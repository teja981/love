<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>My Valentine ğŸ’–</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins&display=swap" rel="stylesheet">

<style>

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Poppins;
}

body{
  background:radial-gradient(circle,#3a0000,#120000);
  color:white;
  height:100vh;
  overflow:hidden;
}

/* Screens */

.screen{
  position:absolute;
  width:100%;
  height:100%;
  display:none;
  justify-content:center;
  align-items:center;
  flex-direction:column;
  text-align:center;
  padding:20px;
}

.active{display:flex;}

/* Titles */

.title{
  font-family:'Great Vibes';
  font-size:3rem;
}

.heart{
  font-size:70px;
  animation:pulse 1.5s infinite;
}

@keyframes pulse{
  0%,100%{transform:scale(1)}
  50%{transform:scale(1.2)}
}

/* Buttons */

.btns{
  display:flex;
  gap:20px;
  margin-top:20px;
}

button{
  padding:12px 25px;
  border:none;
  border-radius:25px;
  cursor:pointer;
  font-size:15px;
}

.yes{
  background:#ff2f68;
  color:white;
}

.no{
  background:#333;
  color:white;
}

/* Card */

.card{
  background:rgba(255,255,255,0.15);
  padding:25px;
  border-radius:15px;
  max-width:450px;
}

/* Photos */

.photo{
  width:200px;
  height:200px;
  border-radius:15px;
  object-fit:cover;
  display:none;
  margin:15px;
  border:2px solid hotpink;
}

/* Final Page */

.final-name{
  font-family:'Great Vibes';
  font-size:3.5rem;
  animation:glow 2s infinite alternate;
}

@keyframes glow{
  from{color:#ff9dcf}
  to{color:#ff2f68}
}

.slideshow{
  width:220px;
  height:220px;
  border-radius:15px;
  overflow:hidden;
  border:2px solid hotpink;
  margin:15px;
}

.slideshow img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.forever{
  background:rgba(0,0,0,0.5);
  padding:10px 20px;
  border-radius:20px;
  margin:10px;
}

</style>
</head>

<body>

<audio id="music" loop></audio>

<!-- PAGE 1 -->

<div class="screen active" id="s1">

  <div class="heart">â¤ï¸</div>

  <div class="title">Will You Be My Valentine?</div>

  <h3 id="n1"></h3>

  <div class="btns">
    <button class="yes" onclick="next(2)">YES ğŸ’–</button>
    <button class="no" onclick="move(this)">NO ğŸ˜œ</button>
  </div>

</div>

<!-- PAGE 2 -->

<div class="screen" id="s2">

  <div class="heart">ğŸ’–</div>

  <div class="title">I Love You</div>

  <h3 id="n2"></h3>

  <div id="count"></div>

  <button class="yes" onclick="next(3)">Open ğŸ’Œ</button>

</div>

<!-- PAGE 3 -->

<div class="screen" id="s3">

  <div class="heart">ğŸ’˜</div>

  <div class="title">My Heart</div>

  <div class="card">
    <p id="msg"></p>
  </div>

  <img id="p1" class="photo">

  <button class="yes" onclick="next(4)">Proposal ğŸ’</button>

</div>

<!-- PAGE 4 -->

<div class="screen" id="s4">

  <div class="heart">ğŸ’</div>

  <div class="title">Will You Marry Me?</div>

  <img id="p2" class="photo">

  <button class="yes" onclick="next(5)">YES ğŸ’–</button>

</div>

<!-- PAGE 5 -->

<div class="screen" id="s5">

  <h1 id="finalName" class="final-name"></h1>

  <div class="heart">ğŸ’–ğŸ’ğŸ’–</div>

  <h2>Thank You For Accepting Me â¤ï¸</h2>

  <div class="slideshow">
    <img id="slide">
  </div>

  <div class="forever" id="forever"></div>

</div>


<script>

/* GET DATA */

const p = new URLSearchParams(location.search);

const name = p.get("name") || "My Love";
const since = p.get("since") || "2024-01-01";
const msg = decodeURIComponent(p.get("msg") || "I Love You â¤ï¸");

const photo = decodeURIComponent(p.get("photo") || "");
const music = decodeURIComponent(p.get("music") || "");


/* SET DATA */

n1.innerText = name + " â¤ï¸";
n2.innerText = name + " â¤ï¸";

document.getElementById("msg").innerText = msg;

if(photo){
  p1.src = photo;
  p2.src = photo;
  p1.style.display="block";
  p2.style.display="block";
}

if(music){
  document.getElementById("music").src = music;
}


/* MUSIC AUTOPLAY */

document.body.addEventListener("click",()=>{
  document.getElementById("music").play().catch(()=>{});
},{once:true});


/* COUNTER */

const start = new Date(since);

function count(){

  const now = new Date();

  const d = Math.floor((now-start)/86400000);

  document.getElementById("count").innerText =
  "Together "+d+" Days â¤ï¸";
}

count();
setInterval(count,60000);


/* NAVIGATION */

function next(n){

  document.querySelectorAll(".screen")
  .forEach(s=>s.classList.remove("active"));

  document.getElementById("s"+n).classList.add("active");

  if(n===5) startFinal();
}


/* NO BUTTON */

function move(b){

  b.style.position="absolute";

  b.style.left=Math.random()*80+"vw";
  b.style.top=Math.random()*80+"vh";
}


/* FINAL */

function startFinal(){

  finalName.innerText = "ğŸ’– "+name+" ğŸ’–";

  slide.src = photo;

  setInterval(()=>{

    slide.style.opacity=0;

    setTimeout(()=>{
      slide.style.opacity=1;
    },500);

  },3000);

  updateForever();

  setInterval(updateForever,1000);
}


/* FOREVER */

function updateForever(){

  const now = new Date();

  let d = Math.floor((now-start)/1000);

  let days = Math.floor(d/86400);
  d%=86400;

  let h = Math.floor(d/3600);
  d%=3600;

  let m = Math.floor(d/60);
  let s = d%60;

  forever.innerText =
  `${days} Days ${h}h ${m}m ${s}s Together â¤ï¸`;
}

</script>

</body>
</html>
